
# 課題4  RESTfulAPIについて理解しよう

## サーバー、クライアントとはなにか？
サービス提供コンピュータ（サーバー）とサービス利用コンピュータ（クライアント）が連携して    
サービスを提供をするシステム。身近な例でいえばWebブラウザをクライアント側としたWebシステム。

## http、httpsとは？
httpはサーバーとクライアントをやり取りするプロトコル。
その通信間でSSLサーバーを使い、通信データを暗号化したプロトコルがhttps。  
httpsは、通信内容の盗聴や改ざんなどのセキュリティ攻撃を防ぐ。
例：https://www.youtube.com/watch?v=FnhD7ljtPhY

## リクエストメゾットに関して
リクエストメゾットはサーバーとクライアント間でやり取りするメソッドを指す。

コードで言えばGET,POSTなどの部分。
よく使われるのはサーバーからデータを持ってくる「GET」や
CRADに関わる「Post」、「Delete」。

各リクエストメソッドの詳細：https://developer.mozilla.org/ja/docs/Web/HTTP/Methods

## paramとbodyの違い、使い所

2つともサーバーに情報を送るため書かれるもの

### param
URLで書かれる。
パスパラメータとクエリパラメータの２つあり。
- #### 「パス」パラメータ
特定のリソースを識別するために必要な情報。Web APIのエンドポイントと表記が同じ。

- #### 「クエリ」パラメータ
特定のリソースを「操作」してデータをソートしたりフィルタ掛けたりするときに使う。
Web APIのエンドポイントの表記から追記する形となる。

例：https://zenn.dev/search?q=Laravel
「search」部分がパスパラメータで
「q=Laravel」がクエリパラメータである。

### body
JSONで送られる。

追加、更新する際の内容をJSONとしてサーバーにリクエストする時に使用する。
参考：https://qiita.com/Shokorep/items/b7697a146cbb1c3e9f0b

## header、body、footerについて

リクエストメッセージとレスポンスメッセージの構造でheader、bodyと構成される場合が多い。

### リクエストメッセージ
スタート(リクエスト)ライン
- リクエストメソッド
- リクエスト対象
- HTTP バージョン（GET/ HTTP/1.1）

header=>Host、User-Agentなどのリクエスト側の情報が書かれる。  
body=>リクエスト内のリソース本文が書かれる。APIでのリクエスト送信でJSONを送ったりするなど。

### レスポンスメッセージ
スタート(レスポンス)ライン
- プロトコルバージョン
- ステータスコード
- テータス文字列（TTP/1.1 404 Not Found.）

body=>Serve、Conect-Typenなどのレスポンス情報が取られる  
Body=>リソース内容が書かれる。APIでリクエストURLを叩いたらJSONで結果が返ってくるなど

パラメータでURLでリクエスト送信。API追加

footerはほぼ使われていない  
（Apache CommonsでgetResponseFooterで使われたくらい。）

## text、json、xmlの違いと扱いどころ
### text
文字など文字コードによって表されるデータだけが含まれるファイル
### JSON
JavaScriptのオブジェクト記法を用いたデータ交換フォーマット。
データ構造はオブジェクト構造である。
オブジェクト、配列の概念を使用して容易にデータの書き出しや読み込みができる。
### XML
文章の見た目や構造を記述するためのマークアップ言語。
データ構造は木構造である。
タグで指定してデータの書き出しや読み込みを行う。
HTMLとして扱われることが多い。
### JSONとXMLの違い
- データ構造

JSONはオブジェクト構造である。
オブジェクト、配列の概念を使用して容易にデータの書き出しや読み込みができる。

XMLはデータ構造は木構造である。
DOMを使用し、タグで指定してデータの書き出しや読み込みを行う。
XMLパーサーを使用する場合もある。

## Restful APIとは？

RESTの原則に則って構築された、WebシステムのHTTPでの呼び出しインターフェースのこと。  
RESTは元々Webシステムにおける分散ネットワークシステムのアーキテクチャスタイルであり  
Restful APIはその設計思想を反映したもの。

RESTの設計原則で以下の4つがある
#### アドレス可能性(Addressability)
提供する情報がURIを通して表現できること。全ての情報はURIで表現される一意なアドレスを持っていること。
#### ステートレス性(Stateless)
HTTPをベースにしたステートレスなクライアント/サーバプロトコルであること。セッション等の状態管理はせず、やり取りされる情報はそれ自体で完結して解釈できること。
#### 接続性(Connectability)
情報の内部に、別の情報や(その情報の別の)状態へのリンクを含めることができること。
#### 統一インターフェース(Uniform Interface)
情報の操作(取得、作成、更新、削除)は全てHTTPメソッド(GET、POST、PUT、DELETE)を利用すること。

※オンラインデータ送信の方式はRESTとSOAPの２つある。
RESTはWebアーキテクチャ原則である。あくまでガイドラインであり実装は開発者が行う。
SOAPはプロトコルの１つであり、一貫した組み込みシステムとして期待されたが自由度が低いため廃れていったと考えられる。
参考 https://www.redhat.com/ja/topics/integration/whats-the-difference-between-soap-rest
## パースとは何か？
一定の書式や文法に従って記述されたデータを解析し、プログラムで扱えるようなデータ構造の集合体に変換すること。

JavaScriptの場合実行時コンパイルする時、ソースコードをParsing（パースする）という解析を行いコンパイルを行う。
Webブラウザの場合、HTMLファイルを表示するためにタグの構造や属性などを解析して表示可能なデータ構造に変換する。
# connpassのAPIを受けとって画面に表示してみよう！
